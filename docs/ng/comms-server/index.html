<!doctype html><html class="h-100" lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><title>Notes | Communicating with the Server</title><base href="/notes/"><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"></head><body class="h-100"><nav class="navbar navbar-expand-lg navbar-light bg-light"><a class="navbar-brand" href="/notes">Notes</a><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav mr-auto"><li class="nav-item"><a class="nav-link" href="/notes/css/">CSS</a></li><li class="nav-item"><a class="nav-link" href="/notes/html/">HTML</a></li><li class="nav-item"><a class="nav-link" href="/notes/js/">JavaScript</a></li><li class="nav-item"><a class="nav-link active" href="/notes/ng/">Angular</a></li></ul></div></nav><div class="container-fluid py-3 content-wrapper"><div class="row"><div class="col-10 offset-1"><h2>HTTP</h2><pre><code class="language-js">/**
 *  some.service.ts
 */
...
import { HttpClient } from '@angular/common/http';
...
export class SomeService {
    constructor(private http: HttpClient) {}
    ...
}

/**
 *  app.module.ts
 */
...
import { HttpClientModule } from '@angular/common/http';
...
@NgModule({
    imports: [
        ...,
        HttpClientModule
    ],
    ...
})
...
</code></pre><h2>HTTP - Get, Post, Put and Delete</h2><pre><code class="language-js">/**
 *  some.service.ts
 */
...
import { Observable } from 'rxjs';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import { catchError } from 'rxjs/operators';
...
export class SomeService {
    constructor(private http: HttpClient) {}

	getService(): Observable&lt;TYPE&gt; {
		return this.http.get&lt;TYPE&gt;('/SERVICE_URL')
			.pipe(catchError(funcToHandleError));
	}

	postService(requestObj): Observable&lt;TYPE&gt; {
		let options = { headers: new HttpHeaders({'Content-Type': 'application/json'}) };

		return this.http.post&lt;TYPE&gt;('/SERVICE_URL', requestObj, options)
			.pipe(catchError(funcToHandleError));
	}

	putService(requestObj): Observable&lt;TYPE&gt; {
		let options = { headers: new HttpHeaders({'Content-Type': 'application/json'}) };

		return this.http.put&lt;TYPE&gt;('/SERVICE_URL', requestObj, options)
			.pipe(catchError(funcToHandleError));
	}

	deleteService(): Observable&lt;TYPE&gt; {
		return this.http.delete&lt;TYPE&gt;('/SERVICE_URL')
			.pipe(catchError(funcToHandleError));
	}
	...
}

/**
 *  some.component.ts
 */
...
import { SomeService } from './some.service';
...
export class SomeComponent {
	constructor(private someService: SomeService) {}
	...
	callGetService() {
		this.someService.getService().subscribe(response =&gt; console.log(response));
	}

	callPostService() {
		this.someService.postService(requestObj).subscribe(response =&gt; console.log(response));
	}

	callPutService() {
		this.someService.putService(requestObj).subscribe(response =&gt; console.log(response));
	}

	callDeleteService() {
		this.someService.deleteService().subscribe(response =&gt; console.log(response));
	}
}
</code></pre><h2>Rx - tap, map</h2><pre><code class="language-js">/**
 *  some.service.ts
 */
...
import { tap, map, catchError } from 'rxjs/operators';
...
export class SomeService {
	...
	funcA(): Observable&lt;TYPE&gt; {
		return this.http.get&lt;TYPE&gt;('/SERVICE_URL')
			.pipe(tap(response =&gt; {
				...
			}))
			.pipe(catchError(funcToHandleError));
	}

	funcB(): Observable&lt;TYPE&gt; {
		return this.http.get&lt;TYPE&gt;('/SERVICE_URL')
			.pipe(map(response =&gt; {
				...
				return response;
			}))
			.pipe(catchError(funcToHandleError));
	}
}
</code></pre></div></div></div><script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script></body></html>